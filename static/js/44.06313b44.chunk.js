"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[44],{3343:function(e,t,o){o(2791);var a=o(3158),s=(o(5659),o(6994),o(184));t.Z=function(e){var t,o=e.id,n=e.name,r=e.type,i=e.placeholder,l=void 0===i?null:i,u=e.handleChange,c=e.handleBlur,d=e.errors,f=e.touched,h=e.values,p=e.text,m=void 0===p?"":p;if("checkbox"===r)t=(0,s.jsx)("input",{id:o,name:n,type:r,onChange:u,checked:h[n],placeholder:l,onBlur:c});else t=(0,s.jsx)("input",{id:o,name:n,type:r,onChange:u,value:h[n],placeholder:l,onBlur:c,className:d[n]&&f[n]?"inputError":"inputField",maxLength:49});return(0,s.jsxs)("div",{className:a.Z.profileInfoList,children:[(0,s.jsx)("label",{className:a.Z.title,htmlFor:r,children:m}),t,d[n]&&f[n]&&(0,s.jsx)("div",{className:"errorMessage",children:d[n]})]})}},4:function(e,t,o){o.d(t,{Z:function(){return r}});o(2791);var a=o.p+"static/media/preloader.9fafd3bfcc215f8697284986422623e8.svg",s="Preloader_preloader__FrZYS",n=o(184),r=function(){return(0,n.jsx)("div",{className:s,children:(0,n.jsx)("img",{alt:"preloader",src:a})})}},9403:function(e,t,o){o.r(t),o.d(t,{default:function(){return W}});var a=o(1413),s=o(5671),n=o(3144),r=o(136),i=o(7277),l=o(2791),u=o(9101),c=o(4),d=o(6508),f={myPostsAbstract:"Posts_myPostsAbstract__5I+Fd"},h="Post_postWrapper__gHeIS",p="Post_avatar__D5wdO",m="Post_postText__zmJGo",x="Post_likesField__bBaTD",v=o(3793),g=o(184),P=function(e){var t=e.smallProfilePhoto,o=e.likesCount,a=e.text;return(0,g.jsxs)("div",{className:h,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{src:t||v,alt:"profile avatar",className:p}),(0,g.jsx)("div",{className:m,children:a})]}),(0,g.jsxs)("div",{className:x,children:[" likes: ",o]})]})},b="AddPostForm_buttonField__cgq8D",j="AddPostForm_formWrapper__pUUX9",_=(o(3292),o(5705)),k=o(1091),Z=o(3343),N=o(3682),S=function(e){var t=e.addPost,o=(0,_.TA)({initialValues:{addPostField:""},validationSchema:k.vo,onSubmit:function(e,o){t(e.addPostField),o.resetForm()}}),a=o.values,s=o.errors,n=o.touched,r=o.isSubmitting,i=o.handleChange,l=o.handleBlur,u=o.handleSubmit;return(0,g.jsxs)("form",{className:j,onSubmit:u,autoComplete:"off",children:[(0,g.jsx)(Z.Z,{id:"addPostField",name:"addPostField",type:"text",placeholder:"Share your news:)",handleChange:i,handleBlur:l,errors:s,touched:n,values:a}),(0,g.jsx)("div",{className:b,children:(0,g.jsx)(N.uW,{text:"Add post",isSubmitting:r})})]})},y=function(e){var t=e.addPost,o=e.posts,a=e.smallProfilePhoto;return(0,g.jsxs)("div",{className:f.posts,children:[(0,g.jsx)("div",{className:f.myPostsAbstract,children:"My posts"}),(0,g.jsx)(S,{addPost:t}),o.map((function(e,t){return(0,g.jsx)(P,{smallProfilePhoto:a,text:e.text,likesCount:o[t].likesCount},e.id)}))]})},C=(0,u.$j)((function(e){return{posts:e.profileReducer.posts}}),{addPost:d.q2})(y),F=o(9439),A={largeProfilePhoto:"ProfileInfo_largeProfilePhoto__P5xVW",imageField:"ProfileInfo_imageField__n8OCb",inputWrapper:"ProfileInfo_inputWrapper__oqg++"},I=o.p+"static/media/defaultLargeUserPhoto.f3b9d372d0b26ec4c564.jpg",w=o(2316),M=function(e){var t=e.onProfilePhotoChange;return(0,g.jsx)("div",{className:A.inputWrapper,children:(0,g.jsxs)("label",{className:"inputTypeFile",children:[(0,g.jsx)("input",{type:"file",onChange:t}),(0,g.jsx)("span",{children:"Update photo"})]})})},B=function(e){var t=e.profilePage,o=e.isOwner,a=e.saveProfilePhoto,s=e.saveProfileChanges,n=(0,l.useState)(!1),r=(0,F.Z)(n,2),i=r[0],u=r[1];return(0,g.jsxs)("div",{className:A.profileInfoAndPhoto,children:[(0,g.jsxs)("div",{className:A.imageField,children:[(0,g.jsx)("img",{className:A.largeProfilePhoto,alt:"large profile avatar",src:t.photos.large?t.photos.large:I}),o&&(0,g.jsx)(M,{onProfilePhotoChange:function(e){e.target.files.length&&a(e.target.files[0])}})]}),i?(0,g.jsx)(N.ZP,{saveProfileChanges:s,setEditMode:u,profilePage:t}):(0,g.jsx)(w.Z,{setEditMode:u,profilePage:t,isOwner:o})]})},D={mainPic:"Profile_mainPic__j1oh7"},O=(o(6994),"ProfileStatus_profileStatus__JLk5U"),U="ProfileStatus_status__ELU4O",J=l.memo((function(e){var t=e.profileStatus,o=e.updateProfileStatus,a=e.isOwner,s=(0,l.useState)(!1),n=(0,F.Z)(s,2),r=n[0],i=n[1],u=(0,l.useState)(t),c=(0,F.Z)(u,2),d=c[0],f=c[1];(0,l.useEffect)((function(){return f(t)}),[t]);var h;return h=r&&a?(0,g.jsx)("input",{value:d||"",onChange:function(e){f(e.target.value)},autoFocus:!0,onBlur:function(){i(!1),o(d)},className:"inputField",maxLength:30}):(0,g.jsx)("span",{className:O,onClick:function(){i(!0)},children:t||"defaultStatus"}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{className:U,children:"Status: "}),h]})})),L=function(e){var t=e.profilePage,o=e.profileStatus,a=e.updateProfileStatus,s=e.saveProfilePhoto,n=e.isOwner,r=e.saveProfileChanges;return t?(0,g.jsxs)("main",{className:D.content,children:[(0,g.jsx)(J,{isOwner:n,profileStatus:o,updateProfileStatus:a}),(0,g.jsx)(B,{saveProfileChanges:r,isOwner:n,saveProfilePhoto:s,profilePage:t}),n&&(0,g.jsx)(C,{smallProfilePhoto:t.photos.small})]}):(0,g.jsx)(c.Z,{})},E=o(7689),q=o(1548),R=function(e){(0,r.Z)(o,e);var t=(0,i.Z)(o);function o(){var e;(0,s.Z)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).refreshProfilePage=function(){var t=e.props.param.userId;t||(t=e.props.authorizedUserId),e.props.getProfilePage(t),e.props.getProfileStatus(t)},e}return(0,n.Z)(o,[{key:"componentDidMount",value:function(){this.refreshProfilePage()}},{key:"componentDidUpdate",value:function(e){e.param.userId!==this.props.param.userId&&this.refreshProfilePage()}},{key:"render",value:function(){return(0,g.jsx)(L,{saveProfileChanges:this.props.saveProfileChanges,saveProfilePhoto:this.props.saveProfilePhoto,isOwner:!this.props.param.userId,profileStatus:this.props.profileStatus,updateProfileStatus:this.props.updateProfileStatus,profilePage:this.props.profilePage})}}]),o}(l.Component),T=(0,q.D)(R),W=(0,u.$j)((function(e){return{profilePage:e.profileReducer.profilePage,profileStatus:e.profileReducer.profileStatus,authorizedUserId:e.authReducer.id,isAuth:e.authReducer.isAuth}}),{getProfilePage:d.CJ,updateProfileStatus:d.vq,getProfileStatus:d.TL,saveProfilePhoto:d.ew,saveProfileChanges:d.Z})((function(e){return(0,g.jsx)(T,(0,a.Z)((0,a.Z)({},e),{},{param:(0,E.UO)()}))}))},3682:function(e,t,o){o.d(t,{kE:function(){return c},uW:function(){return u}});o(2791);var a=o(3158),s=o(5705),n=o(1091),r=o(3343),i=(o(3292),o(5659),o(2316)),l=o(184),u=function(e){var t=e.text,o=e.isSubmitting;return(0,l.jsx)("button",{className:"defaultWebsiteButton",disabled:o,type:"submit",children:t})},c=function(e){var t=e.status;return t&&(0,l.jsx)("div",{className:"errorMessage",children:t})};t.ZP=function(e){var t=e.profilePage,o=e.setEditMode,d=e.saveProfileChanges,f=(0,s.TA)({enableReinitialize:!0,initialValues:{fullName:t.fullName||"",aboutMe:t.aboutMe||"",lookingForAJob:t.lookingForAJob||!1,lookingForAJobDescription:t.lookingForAJobDescription||"",contacts:{facebook:t.contacts.facebook||"",website:t.contacts.website||"",vk:t.contacts.vk||"",twitter:t.contacts.twitter||"",instagram:t.contacts.instagram||"",youtube:t.contacts.youtube||"",github:t.contacts.github||"",mainLink:t.contacts.mainLink||""}},validationSchema:n.kp,onSubmit:function(e,t){var a=t.setSubmitting,s=t.setStatus;a(!0),d(e,s,a).then((function(){o(!1)})).catch((function(){}))}}),h=f.values,p=f.status,m=f.errors,x=f.touched,v=f.isSubmitting,g=f.handleChange,P=f.handleBlur,b=f.handleSubmit;return(0,l.jsxs)("form",{onSubmit:b,autoComplete:"off",className:a.Z.profileInfo,children:[(0,l.jsx)(i.v,{}),(0,l.jsx)(r.Z,{id:"fullName",name:"fullName",type:"text",placeholder:"Enter nickName",handleChange:g,handleBlur:P,errors:m,touched:x,values:h,text:"Nickname: "}),(0,l.jsx)(r.Z,{id:"aboutMe",name:"aboutMe",type:"text",placeholder:"Enter smth about you",handleChange:g,handleBlur:P,errors:m,touched:x,values:h,text:"General info about me: "}),(0,l.jsx)(r.Z,{id:"lookingForAJob",name:"lookingForAJob",type:"checkbox",handleChange:g,handleBlur:P,errors:m,touched:x,values:h,text:"Looking for a job? "}),(0,l.jsx)(r.Z,{id:"lookingForAJobDescription",name:"lookingForAJobDescription",type:"text",placeholder:"Describe the job",handleChange:g,handleBlur:P,errors:m,touched:x,values:h,text:"Info about the job: "}),(0,l.jsxs)("div",{className:a.Z.profileInfoList,children:[(0,l.jsx)("span",{className:a.Z.title,children:"My contacts: "}),Object.keys(t.contacts).map((function(e,t){var o,s,n,r,i;return(0,l.jsxs)("div",{className:a.Z.contact,children:[e," - ",(0,l.jsx)("input",{id:e,name:"contacts.".concat(e),type:"text",placeholder:"Input ".concat(e),onChange:g,onBlur:P,className:null!==(o=m.contacts)&&void 0!==o&&o[e]&&null!==(s=x.contacts)&&void 0!==s&&s[e]?"inputError":"inputField",value:h.contacts[e],maxLength:50}),(null===(n=m.contacts)||void 0===n?void 0:n[e])&&(null===(r=x.contacts)||void 0===r?void 0:r[e])&&(0,l.jsx)("div",{className:"errorMessage",children:null===(i=m.contacts)||void 0===i?void 0:i[e]})]},t)}))]}),(0,l.jsx)(c,{status:p}),(0,l.jsx)(u,{text:"Save",isSubmitting:v})]})}},2316:function(e,t,o){o.d(t,{v:function(){return i}});o(2791);var a=o(3158),s=(o(3292),o(184)),n=function(e){var t=e.contactTitle,o=e.contactValue;return(0,s.jsxs)("div",{className:a.Z.contact,children:[t," - ",o||"none:)"]})},r=function(e){var t=e.text,o=e.listValue;return(0,s.jsxs)("div",{className:a.Z.profileInfoList,children:[(0,s.jsxs)("span",{className:a.Z.title,children:[t," "]}),o]})},i=function(e){var t=e.text;return(0,s.jsx)("div",{className:a.Z.mainAbstract,children:t})};t.Z=function(e){var t=e.profilePage,o=e.isOwner,l=e.setEditMode;return(0,s.jsxs)("div",{className:a.Z.profileInfo,children:[(0,s.jsx)(i,{text:"Profile Information"}),(0,s.jsx)(r,{text:"Nickname:",listValue:t.fullName||"none:)"}),(0,s.jsx)(r,{text:"General info about me:",listValue:t.aboutMe||"none:)"}),(0,s.jsx)(r,{text:"Info about the job:",listValue:t.lookingForAJob?t.lookingForAJobDescription:"none:)"}),(0,s.jsx)(r,{text:"My contacts:",listValue:Object.keys(t.contacts).map((function(e,o){return(0,s.jsx)(n,{contactTitle:e,contactValue:t.contacts[e]},o)}))}),o&&(0,s.jsx)("button",{onClick:function(){l(!0)},className:"defaultWebsiteButton",children:"Edit"})]})}},1548:function(e,t,o){o.d(t,{D:function(){return h}});var a=o(1413),s=o(5671),n=o(3144),r=o(136),i=o(7277),l=o(2791),u=o(9101),c=o(7689),d=o(184),f=function(e){return{isAuth:e.authReducer.isAuth}},h=function(e){var t=function(t){(0,r.Z)(l,t);var o=(0,i.Z)(l);function l(){return(0,s.Z)(this,l),o.apply(this,arguments)}return(0,n.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,a.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,u.$j)(f)(t)}},1091:function(e,t,o){o.d(t,{W3:function(){return s},bD:function(){return r},kp:function(){return i},vo:function(){return n}});var a=o(6727),s=a.Ry().shape({email:a.Z_().email("Please enter the valid email.").required("Email required."),password:a.Z_().min(3,"Password is too short - should be 3 chars minimum.").required("Password required."),rememberMe:a.O7()}),n=a.Ry().shape({addPostField:a.Z_().max(50,"Text is too long - should be 50 chars maximum.").required("Required.")}),r=a.Ry().shape({addMessageField:a.Z_().max(50,"Text is too long - should be 50 chars maximum.").required("Required.")}),i=a.Ry().shape({fullName:a.Z_().max(15,"Nickname is too long - should be 15 chars maximum."),aboutMe:a.Z_().max(50,"General info is too long - should be 50 chars maximum."),lookingForAJob:a.O7(),lookingForAJobDescription:a.Z_().max(50,"Text is too long - should be 50 chars maximum.")})},3292:function(){},6994:function(){},5659:function(){},3158:function(e,t){t.Z={profileInfo:"UserInfo_profileInfo__sk3oM",profileInfoList:"UserInfo_profileInfoList__pmYjE",mainAbstract:"UserInfo_mainAbstract__vr-kB",title:"UserInfo_title__DTwwC",contact:"UserInfo_contact__4rq4v"}},3793:function(e,t,o){e.exports=o.p+"static/media/defaultSmallUserPhoto.b8445dc4ff6cee3f2e2f.jpg"}}]);
//# sourceMappingURL=44.06313b44.chunk.js.map